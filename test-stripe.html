<!DOCTYPE html>
<html>
<head>
    <title>Stripe Test - $0.01</title>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <h1>Test Stripe Payment - $0.01</h1>
    <button id="checkout-button">Pay $0.01</button>
    
    <script>
        const stripe = Stripe('pk_test_51RYHVjLFWluMTxK7g60ZmUZbZUqdMaIzCwMf1D9zHsONtP8r5HZdFApOhKn13i46RA32utz4tRD0YrJEBgwUpeD600eWLY2IEk');
        
        document.getElementById('checkout-button').addEventListener('click', async () => {
            const response = await fetch('https://api.stripe.com/v1/checkout/sessions', {
                method: 'POST',
                headers: {
                    'Authorization': 'Bearer sk_test_51RYHVjLFWluMTxK7exQY5vdrqG0FW3w3XqrCdFdQ4aWgQ0BiKpGsSWa5vnnFtBcTkXHBsn1fXUJEQEvhvHWgPwwW00FFHGna87',
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: new URLSearchParams({
                    'success_url': 'http://localhost:5173?payment=success',
                    'cancel_url': 'http://localhost:5173?payment=cancel',
                    'mode': 'payment',
                    'line_items[0][price_data][currency]': 'usd',
                    'line_items[0][price_data][product_data][name]': 'Test Payment',
                    'line_items[0][price_data][unit_amount]': '1',
                    'line_items[0][quantity]': '1',
                    'customer_email': 'robertstar2000@gmail.com'
                })
            });
            
            const session = await response.json();
            await stripe.redirectToCheckout({ sessionId: session.id });
        });
    </script>
</body>
</html>
